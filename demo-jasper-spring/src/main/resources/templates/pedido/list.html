<!DOCTYPE html>
<html lang="pt"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout-padrao}">
<head>
</head>
<body>
<section layout:fragment="conteudo">
  <div class="container" style="margin-top:100px;">
    <h1>Lista de Pedidos</h1>
    <div class="row">
      <div class="col-md-6">
        <div th:if="${!#strings.isEmpty(sucesso)}"
             class="alert alert-success">
          <i class="fa fa-check-circle"></i>
          <span th:text="${sucesso}">Mensagem de sucesso!</span>
        </div>

        <div th:if="${!#strings.isEmpty(erro)}"
             class="alert alert-danger">
          <i class="fa fa-trash"></i>
          <span th:text="${erro}">Mensagem de erro!</span>
        </div>
      </div>
    </div>
    <a class="btn btn-primary" th:href="@{/}">
      <i class="fa fa-home"></i>
    </a>
    <a class="btn btn-primary" th:href="@{/pedido/new}">
      <i class="fa fa-plus"></i> Novo
    </a>

    <table class="table table-striped table-responsive-md">
      <thead>
      <tr>
        <th>Código</th>
        <th>Data Alteração</th>
        <th>Data Pedido</th>
        <th>Tipo de Frete</th>
        <th>Tipo de Pagamento</th>
        <th>Valor Frete</th>
        <th>Valor Total</th>
        <th>Cliente</th>
        <th>Situação</th>
        <th>Editar</th>
        <th>Remover</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="pedido: ${pedidos}">
        <td th:text="${pedido.id}">código</td>
        <td th:text="${pedido.dataAlteracao}">dataAlteracao</td>
        <td th:text="${pedido.dataPedido}">dataPedido</td>
        <td th:text="${pedido.tipoFrete}">tipoFrete</td>
        <td th:text="${pedido.tipoPagamento}">tipoPagamento</td>
        <td th:text="${pedido.valorFrete}">valorFrete</td>
        <td th:text="${pedido.valorTotal}">valorTotal</td>
        <td th:text="${pedido.cliente.nome}">pedido.cliente_id</td>
        <td th:text="${pedido.situacao.descricao}">pedido.situacao_id</td>


        <!-- EDITAR -->
        <td>
          <a th:href="@{/pedido/{id}(id=${pedido.id})}" class="btn btn-primary">
            <i class="fa fa-edit ml-2"></i>
          </a>
        </td>
        <!-- REMOVER -->
        <td>
          <form th:method="post"
                th:action="@{/pedido/{id}?_method=DELETE(id=${pedido.id})}">
            <button type="submit" class="btn btn-danger">
              <i class="fa fa-trash ml-2"></i>
            </button>
          </form>
        </td>
      </tr>
      </tbody>
    </table> <!-- FIM TABLE -->

  </div>
</section>
</body>
</html>


